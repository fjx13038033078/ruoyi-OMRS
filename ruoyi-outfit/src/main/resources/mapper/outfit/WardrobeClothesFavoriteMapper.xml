<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.outfit.mapper.WardrobeClothesFavoriteMapper">

    <resultMap type="WardrobeClothesFavorite" id="WardrobeClothesFavoriteResult">
        <id     property="id"         column="id"          />
        <result property="userId"     column="user_id"     />
        <result property="clothesId"  column="clothes_id"  />
        <result property="createTime" column="create_time" />
    </resultMap>

    <select id="selectByUserAndClothes" resultMap="WardrobeClothesFavoriteResult">
        select id, user_id, clothes_id, create_time
        from wardrobe_clothes_favorite
        where user_id = #{userId} and clothes_id = #{clothesId}
    </select>

    <select id="selectFavoriteClothesIds" resultType="Long">
        select clothes_id from wardrobe_clothes_favorite where user_id = #{userId}
    </select>

    <insert id="insert" parameterType="WardrobeClothesFavorite" useGeneratedKeys="true" keyProperty="id">
        insert into wardrobe_clothes_favorite (user_id, clothes_id, create_time)
        values (#{userId}, #{clothesId}, NOW())
    </insert>

    <delete id="deleteByUserAndClothes">
        delete from wardrobe_clothes_favorite where user_id = #{userId} and clothes_id = #{clothesId}
    </delete>

    <select id="countByClothesId" resultType="int">
        select count(*) from wardrobe_clothes_favorite where clothes_id = #{clothesId}
    </select>

    <delete id="deleteByClothesId">
        delete from wardrobe_clothes_favorite where clothes_id = #{clothesId}
    </delete>

</mapper>
